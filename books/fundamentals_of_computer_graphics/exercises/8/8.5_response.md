- **Approximation Formula:**
  The depth precision in world space ($\Delta z_w$) relates to the Z-buffer bit-depth ($b$) and distance ($z$) roughly as:

  $$
  \Delta z_w \approx \frac{z^2 (f-n)}{f \cdot n \cdot 2^b}
  $$

  Assuming $f \gg n$, this simplifies to $\Delta z_w \approx \frac{z^2}{n \cdot 2^b}$.

- **Scenario Parameters:**

  - $n = 4$ meters.

  - $f = 100,000$ meters ($100$ km).

  - Requirement: $\Delta z_w < 1$ meter (to avoid Z-fighting on objects 1m thick).

<br>

**Case 1: Worst Case (Far Plane, $z = 100,000$)**

$$
1 > \frac{(100,000)^2}{4 \cdot 2^b} \implies 2^b > \frac{10^{10}}{4} = 2.5 \times 10^9
$$

Taking the log base 2: $b > \log_2(2.5 \times 10^9) \approx 31.2$.

- **Answer:** You need a **32-bit** Z-buffer to avoid errors at 100km.

<br>

**Case 2: Near Viewer ($z = 100$)**

$$
1 > \frac{(100)^2}{4 \cdot 2^b} \implies 2^b > \frac{10,000}{4} = 2,500
$$

Taking the log base 2: $b > \log_2(2500) \approx 11.3$.

- **Answer:** A standard **16-bit** Z-buffer is sufficient for nearby objects.
