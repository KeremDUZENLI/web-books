```cpp
int SolveQuadratic(double A, double B, double C, double &x1, double &x2) {
    double discriminant = B*B - 4*A*C;

    if (discriminant < 0) return 0; // No real roots

    double rootD = sqrt(discriminant);

    // Compute roots
    double r1 = (-B - rootD) / (2*A);
    double r2 = (-B + rootD) / (2*A);

    // Sort, smaller is first
    if (r1 < r2) { x1 = r1; x2 = r2; }
    else         { x1 = r2; x2 = r1; }

    return (discriminant == 0) ? 1 : 2; // Return count
}
```
