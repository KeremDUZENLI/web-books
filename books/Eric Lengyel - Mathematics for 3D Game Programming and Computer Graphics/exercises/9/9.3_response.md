### Answer 9.3

**Algorithm for Decal Application:**

1.  **Define Decal Volume:**
    Define an Oriented Bounding Box (OBB) for the decal centered at $P$.
    * **Z-axis:** $D_z = -N$ (Projection direction).
    * **X-axis:** $D_x = T$ (Tangent).
    * **Y-axis:** $D_y = N \times T$ (Bitangent).
    * **Extents:** $x \in [-w/2, w/2]$, $y \in [-h/2, h/2]$, $z \in [-\epsilon, \epsilon]$ (where $\epsilon$ is a small depth tolerance).

2.  **Select Geometry:**
    Identify triangles in the target mesh that intersect the decal's OBB.

3.  **Clipping (Sutherland-Hodgman):**
    For each candidate triangle:
    * Clip against the 4 side planes of the decal prism:
        * Left: $D_x \cdot (Q - P) = -w/2$
        * Right: $D_x \cdot (Q - P) = w/2$
        * Bottom: $D_y \cdot (Q - P) = -h/2$
        * Top: $D_y \cdot (Q - P) = h/2$
    * Store the resulting polygon vertices.

4.  **Texture Coordinates:**
    For each vertex $V$ in the clipped decal geometry, project into decal space $(u, v)$:
    * $u = \frac{(V - P) \cdot T}{w} + 0.5$
    * $v = \frac{(V - P) \cdot (N \times T)}{h} + 0.5$

5.  **Offset:**
    Apply a depth offset (polygon offset) during rendering or slightly shift vertices along $N$ to prevent z-fighting.
