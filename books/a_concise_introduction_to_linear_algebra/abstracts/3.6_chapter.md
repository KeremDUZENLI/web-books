# Chapter 3.6: Change of Basis

---

## Main Idea

- This subchapter explains how to translate the coordinates of a vector from one basis (coordinate system) to another using a transition matrix.

- This is arguably the most critical linear algebra concept for computer graphics, as the entire rendering pipeline is essentially a series of basis changes (moving data from Model Space to World Space to View Space to Clip Space).

---

## Keywords

**Coordinate Vector:**

- The specific set of numbers that represents a vector relative to a specific basis; the same physical arrow has different coordinate numbers depending on which "ruler" (basis) you use to measure it.

**Change of Basis Matrix ($P$):**

- A square matrix that converts coordinate vectors from one basis to another; its columns are just the basis vectors of the "old" system expressed in the "new" system.

**Transition Matrix:**

- Another name for the Change of Basis matrix; usually denoted as $P_{B \to C}$ (converts coordinates from basis $B$ to basis $C$).

**Invertibility:**

- Since bases are always linearly independent, the change of basis matrix is always invertible, allowing us to move back and forth between coordinate systems freely.

---

## Formulas

**Coordinate Conversion**

- **Formula:** $[\mathbf{x}]_C = P_{B \to C} [\mathbf{x}]_B$

- **Meaning:** To get the new coordinates (in $C$), multiply the transition matrix by the old coordinates (in $B$).

- **Use in graphics:** Converting a vertex from Object Space coordinates to World Space coordinates.

**Constructing the Matrix**

- **Formula:** $P_{B \to C} = \begin{bmatrix} [\mathbf{b}_1]_C & [\mathbf{b}_2]_C & \dots & [\mathbf{b}_n]_C \end{bmatrix}$

- **Meaning:** The columns of the transition matrix are simply the old basis vectors measured using the new ruler.

- **Use in graphics:** Building the "View Matrix" by dotting the world axes with the camera's Right, Up, and Forward vectors.

**Inverse Transition**

- **Formula:** $P_{C \to B} = (P_{B \to C})^{-1}$

- **Meaning:** The matrix that converts $C$ back to $B$ is the inverse of the matrix that converts $B$ to $C$.

- **Use in graphics:** Switching from "World-to-Camera" (viewing) to "Camera-to-World" (ray generation).

---

## Practical Use

**The Graphics Pipeline**

- The standard vertex processing stages (Model $\to$ World $\to$ View $\to$ Projection) are fundamentally just a chain of change-of-basis operations.

**Skeletal Animation**

- Each bone in a character rig defines its own local basis. Animating a character involves continuously changing the basis of vertices from "Bone Space" to "Character Space" as limbs rotate.

**Camera Navigation**

- "Looking" with a virtual camera involves defining a new basis (where the camera is the center) and mathematically moving the entire universe into that new basis so it can be projected onto the screen.
